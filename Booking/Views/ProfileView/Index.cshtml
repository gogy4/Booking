@model List<Domain.Entities.Booking>

@{
    var message = ViewBag.Message as string;
    if (!string.IsNullOrEmpty(message))
    {
        <div class="alert alert-info">
            @message
        </div>
    }
}
<div class="mt-3">
    <a asp-controller="ProfileView" asp-action="EditUserData" class="btn btn-secondary">Изменить профиль</a>
</div>
<h2>Мои брони</h2>
@if (Model.Any())
{
    <table class="table">
        <thead>
        <tr>
            <th>Дата начала</th>
            <th>Дата окончания</th>
            <th>Статус</th>
        </tr>
        </thead>
        <tbody>
        @foreach (var booking in Model)
        {
            <tr>
                <td>@booking.StartDate.ToString("yyyy-MM-dd")</td>
                <td>@booking.EndDate.ToString("yyyy-MM-dd")</td>
                <td>@booking.Status</td>
                <td>
                    <form method="post" asp-action="CancelRent" asp-controller="ProfileView" asp-route-bookingId="@booking.Id">
                        <button type="submit" class="btn btn-danger">Отменить аренду</button>
                    </form>
                    <a asp-controller="RoomView" asp-action="Index" asp-route-roomId="@booking.RoomId" class="btn btn-primary">
                        Подробнее о комнате
                    </a>
                </td>
            </tr>
        }
        </tbody>
    </table>
}
else
{
    <p>У вас нет активных броней.</p>
}